webpackJsonp([9],{"4PMq":function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,"body[data-v-2d7ec9fa],html[data-v-2d7ec9fa]{position:relative!important;height:100%!important;min-height:100%!important}.mt-clear[data-v-2d7ec9fa]{line-height:40px;font-size:16px;color:#26a2ff;position:absolute;z-index:90000;bottom:0;left:2rem}a[data-v-2d7ec9fa]{color:#000}.mint-cell-value[data-v-2d7ec9fa]{-webkit-box-flex:0!important;-ms-flex:0 0 73%!important;flex:0 0 73%!important}.mint-cell-wrapper[data-v-2d7ec9fa]{padding-right:0}.mint-cell[data-v-2d7ec9fa]:last-child{background-image:none}#page[data-v-2d7ec9fa]{height:100%;position:relative;width:100%}#page #main[data-v-2d7ec9fa]{width:100%;position:absolute;top:0;left:0;right:0;bottom:0;overflow-x:hidden;overflow-y:auto}.bottom-save[data-v-2d7ec9fa]{height:.8rem;width:1.6rem;font-size:16px;background:#eb9f4b;color:#fff;margin-right:.15rem}.bottom-c[data-v-2d7ec9fa]{width:4rem;font-size:16px;height:.8rem;margin-left:.15rem}.footer[data-v-2d7ec9fa]{position:absolute;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:1.58rem;background:#fff}","",{version:3,sources:["/Users/edison/Documents/code/ywwb_h5/src/vuepage/page/leaveEmployee.vue"],names:[],mappings:"AACA,4CAEE,4BAA8B,AAC9B,sBAAwB,AACxB,yBAA4B,CAC7B,AACD,2BACE,iBAAkB,AAClB,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,cAAe,AACf,SAAU,AACV,SAAW,CACZ,AACD,mBACE,UAAa,CACd,AACD,kCACE,6BAA+B,AAC3B,2BAA6B,AACzB,sBAAyB,CAClC,AACD,oCACE,eAAmB,CACpB,AACD,uCACE,qBAAuB,CACxB,AACD,uBACE,YAAa,AACb,kBAAmB,AACnB,UAAY,CACb,AACD,6BACE,WAAY,AACZ,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,QAAS,AACT,SAAU,AACV,kBAAmB,AACnB,eAAiB,CAClB,AACD,8BACE,aAAe,AACf,aAAc,AACd,eAAgB,AAChB,mBAAoB,AACpB,WAAY,AACZ,mBAAsB,CACvB,AACD,2BACE,WAAY,AACZ,eAAgB,AAChB,aAAe,AACf,kBAAqB,CACtB,AACD,yBACE,kBAAmB,AACnB,SAAU,AACV,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,WAAY,AACZ,eAAgB,AAChB,eAAiB,CAClB",file:"leaveEmployee.vue",sourcesContent:["\nhtml[data-v-2d7ec9fa],\nbody[data-v-2d7ec9fa] {\n  position: relative !important;\n  height: 100% !important;\n  min-height: 100% !important;\n}\n.mt-clear[data-v-2d7ec9fa] {\n  line-height: 40px;\n  font-size: 16px;\n  color: #26a2ff;\n  position: absolute;\n  z-index: 90000;\n  bottom: 0;\n  left: 2rem;\n}\na[data-v-2d7ec9fa] {\n  color: black;\n}\n.mint-cell-value[data-v-2d7ec9fa] {\n  -webkit-box-flex: 0 !important;\n      -ms-flex: 0 0 73% !important;\n          flex: 0 0 73% !important;\n}\n.mint-cell-wrapper[data-v-2d7ec9fa] {\n  padding-right: 0px;\n}\n.mint-cell[data-v-2d7ec9fa]:last-child {\n  background-image: none;\n}\n#page[data-v-2d7ec9fa] {\n  height: 100%;\n  position: relative;\n  width: 100%;\n}\n#page #main[data-v-2d7ec9fa] {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.bottom-save[data-v-2d7ec9fa] {\n  height: 0.8rem;\n  width: 1.6rem;\n  font-size: 16px;\n  background: #eb9f4b;\n  color: #fff;\n  margin-right: 0.15rem;\n}\n.bottom-c[data-v-2d7ec9fa] {\n  width: 4rem;\n  font-size: 16px;\n  height: 0.8rem;\n  margin-left: 0.15rem;\n}\n.footer[data-v-2d7ec9fa] {\n  position: absolute;\n  bottom: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  width: 100%;\n  height: 1.58rem;\n  background: #fff;\n}\n"],sourceRoot:""}])},Lzc9:function(e,t,n){"use strict";var a=n("Q8d1"),o=n("Au9i");n.n(o);t.a={name:"addEmployee",data:function(){return{employeeName:"",value:"",employeeArea:"",customerEmployeeNo:"",organizationalId:"",entryAt:"",entryAt1:"",entryAt2:"",customerId:"",positionType:"",nowDate:"",clear:!1,docmHeight:document.documentElement.clientHeight,showHeight:document.documentElement.clientHeight,hideshow:!0}},created:function(){this.getUserData()},mounted:function(){var e=this,t=this,n=document.createElement("div");n.innerText="清除日期",n.className="clear",n.style.cssText="margin-left:20px",$(".mint-datetime-cancel")[0].style.display="flex",$(".mint-datetime-cancel")[0].append(n),n.addEventListener("click",function(){switch(t.nowDate){case 1:t.entryAt1=" ";break;case 2:t.entryAt2=" "}$(".mint-datetime-cancel")[0].click()},!1),window.onresize=function(){return function(){e.showHeight=document.body.clientHeight}()}},watch:{showHeight:function(){this.docmHeight>this.showHeight?this.hideshow=!1:this.hideshow=!0}},methods:{clearInput:function(e){this[e]=" "},openPicker:function(e){switch(this.value=new Date,this.nowDate=e,this.$refs.picker.open(),this.nowDate){case 0:this.$refs.picker.$el.getElementsByClassName("picker-slot")[2].style.display="block",$(".clear")[0].style.display="none";break;case 1:case 2:this.$refs.picker.$el.getElementsByClassName("picker-slot")[2].style.display="none",$(".clear")[0].style.display="block"}},handleConfirm:function(e){switch(this.clear=!1,this.nowDate){case 0:this.entryAt=this.$utils.date(e,"4");break;case 1:this.entryAt1=this.$utils.date(e,"5");break;case 2:this.entryAt2=this.$utils.date(e,"5")}},handleService:function(){this.$router.push({path:"/SelectService"})},getUserData:function(){var e=this.$route.params.id,t=this;o.Indicator.open(),Object(a.f)(e).then(function(e){o.Indicator.close();var n=e.data.data,a=n.employeeName,i=n.organizationName,l=n.customerEmployeeNo,c=n.entryAt,s=n.socialSecurityStartAt;c=t.$utils.date(c,"4"),s=null==s?"":t.$utils.date(s,"5"),200==e.data.code&&(t.employeeName=a,t.employeeArea=i,t.customerEmployeeNo=l,t.organizationalId=c,t.entryAt1=s||" ")})},handleClient:function(){this.$router.push({path:"/ClientType"})},openlabour:function(){this.$refs.picker.open()},handleType:function(){console.log(1)},handleSave:function(e){var t=this.$route.params.id,n=this,i=this.organizationalId,l=this.entryAt,c=this.entryAt1,s=this.entryAt2;return i=new Date(i),l=new Date(l),c=new Date(c),s=new Date(s),"id"===t?void Object(o.MessageBox)({title:"提示",message:"请先选择离职员工"}):""===this.positionType||""===this.entryAt?void Object(o.MessageBox)({title:"提示",message:"请填写完整信息"}):l<i?void Object(o.MessageBox)({title:"提示",message:"离职日期不能小于入职日期!"}):s<c?void Object(o.MessageBox)({title:"提示",message:"结束缴纳日期不能小于开始缴纳日期!"}):void Object(a.b)({employee_id:t,resignationAt:this.entryAt,resignationReason:this.positionType,socialSecurityStartAt:" "===this.entryAt1?"":this.entryAt1,socialSecurityEndAt:" "===this.entryAt2?"":this.entryAt2}).then(function(t){200===t.data.code?e?(n.$router.replace("/Employee"),Object(o.MessageBox)({title:"提示",message:"离职信息登记完成"})):(n.$router.replace("/leaveEmployee/id"),n.$router.go(0)):Object(o.MessageBox)({title:"提示",message:t.data.message})})}}}},Q8d1:function(e,t,n){"use strict";function a(e){return new h.a(function(t,n){Object(p.a)({url:"employee/getAllEmployeeInMobile",method:"post",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function o(e){return new h.a(function(t,n){Object(p.a)({url:"employeeDetail/addEmployeeSimpleDate",method:"post",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function i(e){return new h.a(function(t,n){Object(p.a)({url:"employeeDetail/updateEmployeeSimpleDate",method:"post",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function l(e){return new h.a(function(t,n){Object(p.a)({url:"organizationalTree/pagingQueryOrganiationlMobile",method:"post",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function c(e){return new h.a(function(t,n){Object(p.a)({url:"legalCompany/selLaborContractLicense",method:"post",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function s(e){return new h.a(function(t,n){Object(p.a)({url:"/customer/mobilePaging",method:"post",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function r(e){return new h.a(function(t,n){Object(p.a)({url:"/dictionaryValues/list",method:"get",params:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function A(e){return new h.a(function(t,n){Object(p.a)({url:"employee/getAllEmployeeInMobile",method:"post",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function d(e){return new h.a(function(t,n){Object(p.a)({url:"employeeDetail/findById/"+e,method:"get"}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function m(e){return new h.a(function(t,n){Object(p.a)({url:"employeeDetail/getByNo",method:"POST",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}function u(e){return new h.a(function(t,n){Object(p.a)({url:"employeeDetail/addDepartureEmployee",method:"post",data:e}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}t.g=a,t.a=o,t.c=i,t.j=l,t.i=c,t.k=s,t.h=r,t.d=A,t.f=d,t.e=m,t.b=u;var f=n("//Fk"),h=n.n(f),p=n("4Zyn")},bZli:function(e,t,n){var a=n("4PMq");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("bcb6f852",a,!0,{})},t726:function(e,t,n){"use strict";function a(e){n("bZli")}Object.defineProperty(t,"__esModule",{value:!0});var o=(n("zaXQ"),n("Lzc9")),i=n("zSqY"),l=n("VU/8"),c=a,s=l(o.a,i.a,!1,c,"data-v-2d7ec9fa",null);t.default=s.exports},"vC+O":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAUCAYAAAC58NwRAAAAAXNSR0IArs4c6QAAAbRJREFUKBWFk0lLw0AUgN+bpOhdxQVc8aC4gVhNKaa2qSf/gP44f4D/QLBNGJfYutQVFDwJiiAuFw9qJhnfVEdSTekckhfm++a9mTfBEvfXpYR5M5Vay2fTl9BiMAC0iJkUInC3uD/VggcmQa4CwiNI6EKJLSVUK3K+Px5IcEnuQcAnYOgUbes8KRuVBJDLZa7AYDmC70nqhEiWS9uV6SShnkFPlHYOR2QUeFTeQLNMDYISy3u1wUh8kCSHSXpmBnMKiwtnetF6SfpDvZ3s7K3ZhjYg3lB5HVEYld2d6oxm/glqIm9Zd22YylF4/VdKFJRk23MP2M6WKLz8kTY9Kc2mAoFgmGZI+whVTKO+X/M7/v8sVSrd4dtnWQJMIMIrY7iSRxSJGXZ3a33wHnENI2KxsGgd/6aJr8/5Qf+nDF0AOUon9cIQlh07U9NMQ0mcV4eDb3hIwQBm0bHTJxpuyOD5/qgI0KWG9auGGSmjmM/On8ZhFdf34PlHYyIArmHV3SRYCYa3dzgZBoJqht6kq6Cg+GChEBvUmG6C1bUuxO9NHNSxSb9nlY6NLqhcXbYzF3qi2fsLr7W1RWcW1VQAAAAASUVORK5CYII="},zSqY:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page"}},[a("div",{attrs:{id:"main"}},[a("router-link",{attrs:{to:"/choiceEmployee"}},[a("div",{staticClass:"jian"},[a("mt-field",{staticClass:"line",attrs:{label:"离职员工",value:e.employeeName,disabled:""},model:{value:e.employeeName,callback:function(t){e.employeeName=t},expression:"employeeName"}},[a("img",{attrs:{src:n("vC+O"),height:"12px",width:"8px"}})])],1)]),e._v(" "),a("mt-field",{attrs:{label:"所属业务区",placeholder:"系统自动带出",value:e.employeeName,disabled:""},model:{value:e.employeeArea,callback:function(t){e.employeeArea=t},expression:"employeeArea"}}),e._v(" "),a("mt-field",{attrs:{label:"客户工号",placeholder:"系统自动带出",value:e.employeeName,disabled:""},model:{value:e.customerEmployeeNo,callback:function(t){e.customerEmployeeNo=t},expression:"customerEmployeeNo"}}),e._v(" "),a("mt-field",{attrs:{label:"入职日期",placeholder:"系统自动带出",value:e.employeeName,disabled:""},model:{value:e.organizationalId,callback:function(t){e.organizationalId=t},expression:"organizationalId"}}),e._v(" "),a("div",{staticClass:"line",on:{click:function(t){return e.openPicker(0)}}},[a("mt-field",{attrs:{label:"离职日期",placeholder:"请选择",disabled:""},model:{value:e.entryAt,callback:function(t){e.entryAt=t},expression:"entryAt"}})],1),e._v(" "),a("mt-field",{attrs:{label:"离职原因",placeholder:"请填写"},model:{value:e.positionType,callback:function(t){e.positionType=t},expression:"positionType"}}),e._v(" "),a("div",{staticClass:"line",on:{click:function(t){return e.openPicker(1)}}},[a("mt-field",{attrs:{label:"开始缴纳社保月份",placeholder:"系统自动带出",disabled:""},model:{value:e.entryAt1,callback:function(t){e.entryAt1=t},expression:"entryAt1"}})],1),e._v(" "),a("div",{staticClass:"line",on:{click:function(t){return e.openPicker(2)}}},[a("mt-field",{attrs:{label:"最后缴纳社保月份",placeholder:"请选择",disabled:""},model:{value:e.entryAt2,callback:function(t){e.entryAt2=t},expression:"entryAt2"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hideshow,expression:"hideshow"}],staticClass:"footer"},[a("mt-button",{staticClass:"bottom-save",on:{click:function(t){return e.handleSave(1)}}},[e._v("保存")]),e._v(" "),a("mt-button",{staticClass:"bottom-c",attrs:{type:"primary"},on:{click:function(t){return e.handleSave(0)}}},[e._v("保存并继续添加")])],1)],1),e._v(" "),a("div",{staticClass:"mt-date-box"},[a("transition",{attrs:{name:"clear"}}),e._v(" "),a("mt-datetime-picker",{ref:"picker",attrs:{type:"date","year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日"},on:{confirm:e.handleConfirm},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)])},o=[],i={render:a,staticRenderFns:o};t.a=i},zaXQ:function(e,t,n){"use strict";var a=(n("Q8d1"),n("Au9i"));n.n(a)}});
//# sourceMappingURL=9.90110bb4c3bffe953a81.js.map